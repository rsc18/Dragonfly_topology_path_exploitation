import numpy as np 
import matplotlib.pyplot as plt 
  
X = ['1 flow','2 flows','3 flows','4 flows']
buff_occupancy_gr_dr = [21,18,21,20]
buff_occupancy_s1_gr = [21,9,7,4]
buff_occupancy_s2_gr = [0,9,7,4]
buff_occupancy_s3_gr = [0,0,7,4]
buff_occupancy_s4_gr = [0,0,0,4]
  
X_axis = np.arange(len(X))
  
plt.bar(X_axis - 0.2, buff_occupancy_gr_dr, 0.1, label = 'r -> d')
plt.bar(X_axis - 0.1, buff_occupancy_s1_gr, 0.1, label = 's1 -> r')
plt.bar(X_axis, buff_occupancy_s2_gr, 0.1, label = 's2 -> r')
plt.bar(X_axis + 0.1, buff_occupancy_s3_gr, 0.1, label = 's3 -> r')
plt.bar(X_axis + 0.2, buff_occupancy_s4_gr, 0.1, label = 's4 -> r')

  
plt.xticks(X_axis, X)
plt.xlabel("Num of flows")
plt.ylabel("Buffer occupancy")
plt.title("Understanding buffer occupancy on links\n when multiple flows merge")
plt.legend(loc='center left', bbox_to_anchor=(1, 0.5))
plt.show()